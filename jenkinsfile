pipeline {
    agent any
    triggers {
        cron('H/ * * * *')
    }
    stages {
        stage ('Erstellung der ersten Datei') {
            steps {
                script {
                    echo 'Die erste Datei wird erstellt'
                    writeFile file: 'dokument1.txt', text: 'Hier ist die erste Dokument'
                    echo 'Der Inhalt der ersten Datei'
                    sh 'cat dokument1.txt'
                }
            }
        }
        stage ('Erstellung der zweiten Datei') {
            steps {
                script {
                    echo 'Die zweite Datei wird erstellt'
                    writeFile file: 'dokument2.txt', text: 'Hier ist die zweiten Datei'
                    echo 'Der Inhalt der zweiten Datei'
                    sh 'cat dokument2.txt'
                }
            }
        }
        stage ('Hinzufügen von Text'){
            steps {
                script {
                    sh 'echo -n "Zusätzlicher Inhalt zu der ersten Dokument ${BUILD_NUMBER}" >> dokument1.txt'
                    sh 'echo -n "Zusätzlicher Inhalt zu der zweiten Dokument ${BUILD_NUMBER}" >> dokument2.txt'
                }
            }
        }
    }
    post {
        always {
            archiveArtifacts 'dokument1.txt, dokument2.txt'
        }
    }
}